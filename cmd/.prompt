LIGHTWHITE="\[\033[1;37m\]"
WHITE="\[\033[0;37m\]"
GREEN="\[\033[0;32m\]"
CYAN="\[\033[1;36m\]"
RED="\[\033[0;31m\]"
YELLOW="\[\033[0;33m\]"

SPEC_COLOR="$WHITE"
ADOG=$CYAN@$WHITE

function prompt {
    if [ $? -eq 0 ]; then
        PS1=""
    else
        PS1="$RED$? "
    fi

    PS1PROMPT="$WHITE\u$ADOG\h: $GREEN\w$WHITE"
    GIT_BRANCH=`git branch 2> /dev/null | sed -e '/^[^*]/d' -e 's/* \(.*\)/\1/'`
    if [ "$GIT_BRANCH" != "" ]; then
        GIT_BRANCH=" ("$GIT_BRANCH")"
    fi

    PS1+=$PS1PROMPT
    PS1+=$GIT_BRANCH
    PS1+="\n$SPEC_COLOR\$ "
    PS1+=$CYAN

    # Change terminal title
    if [ "$TERM" == "xterm" ]; then
        echo -ne "\033]0;$PWD\007"
    fi
}

PROMPT_COMMAND='prompt'
export PROMPT_COMMAND
export PS1

